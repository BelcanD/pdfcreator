# Сервис генерации PDF-резюме

Этот сервис позволяет создавать профессиональные PDF-резюме на основе предоставленных данных и шаблонов.

## Описание API

### Основные эндпоинты

1. `POST /generate-pdf`
   - Генерирует PDF-резюме на основе предоставленных данных
   - Принимает JSON с данными резюме
   - Возвращает PDF-файл

### Параметры запроса

Запрос должен содержать JSON со следующей структурой:
```json
{
  "template": "template1",
  "personal": {
    "full_name": "Имя Фамилия",
    "title": "Должность",
    "phone": "+7 XXX XXX XX XX",
    "email": "email@example.com",
    "location": "Город, Страна"
  },
  "education": [
    {
      "degree": "Степень",
      "field": "Специальность",
      "institution": "Учебное заведение",
      "graduation_year": "2020"
    }
  ],
  "experience": [
    {
      "position": "Должность",
      "company": "Компания",
      "start_date": "2020",
      "description": "Описание обязанностей"
    }
  ],
  "skills": [
    "Навык 1",
    "Навык 2"
  ],
  "languages": [
    {
      "name": "Английский",
      "level": "B2"
    }
  ]
}
```

## Примеры запросов и ответов

### Пример запроса
```bash
curl -X POST http://localhost:3000/generate-pdf \
  -H "Content-Type: application/json" \
  -d @data.json
```

### Пример успешного ответа
- Статус: 200 OK
- Content-Type: application/pdf
- Тело ответа: PDF-файл

### Пример ответа с ошибкой
```json
{
  "error": "Неверный формат данных",
  "details": "Отсутствует обязательное поле 'personal.full_name'"
}
```

## Описание форматов данных

### Поддерживаемые форматы
- Входные данные: JSON
- Выходные данные: PDF

### Требования к данным
1. Персональные данные (personal):
   - full_name: строка, обязательное поле
   - title: строка, обязательное поле
   - остальные поля опциональны

2. Образование (education):
   - Массив объектов
   - Все поля обязательны

3. Опыт работы (experience):
   - Массив объектов
   - position и company обязательны
   - description опционально

4. Навыки (skills):
   - Массив строк

5. Языки (languages):
   - Массив объектов
   - name и level обязательны

## Инструкция по развертыванию

### Требования
- Node.js 14+ 
- npm или yarn

### Шаги установки

1. Клонирование репозитория:
```bash
git clone https://github.com/BelcanD/pdfcreator.git
cd pdfcreator
```

2. Установка зависимостей:
```bash
npm install
```

3. Настройка окружения:
   - Создайте файл .env
   - Укажите необходимые переменные окружения

4. Запуск сервиса:
```bash
npm start
```

### Переменные окружения
- PORT: порт для запуска сервера (по умолчанию 3000)
- NODE_ENV: окружение (development/production)

## Док��ментация по формату шаблонов

### Структура шаблона
Шаблоны находятся в директории `src/templates/` и представляют собой JavaScript-файлы, экспортирующие функцию генерации PDF.

### Создание нового шаблона
1. Создайте новый файл в директории templates
2. Импортируйте PDFKit
3. Создайте функцию, принимающую параметры doc и cv_data
4. Реализуйте логику отрисовки резюме
5. Экспортируйте функцию

### Пример структуры шаблона
```javascript
const PDFDocument = require('pdfkit');

function generateTemplateX(doc, cv_data) {
    // Логика генерации PDF
}

module.exports = generateTemplateX;
```

### Доступные шаблоны
1. template1 - Классический шаблон
2. template2 - Современный шаблон с боковой панелью

### Кастомизация шаблонов
- Можно настраивать цвета, шрифты, отступы
- Поддерживается добавление изображений
- Возможно создание собственных секций

## Поддержка и обратная связь
По вопросам работы сервиса обращайтесь в раздел Issues на GitHub. 